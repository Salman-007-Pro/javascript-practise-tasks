<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Exercise no 7</title>
  </head>
  <body>
    <h1>Exercise no 7 with solution</h1>
  </body>
  <script>
    (function(){
        let Question = function(question, choice, correct) {
            (this.question = question),
              (this.choice = choice),
              (this.correct = correct);
          };
          Question.prototype.display = function() {
            console.log(this.question)
            for (let i = 0; i < this.choice.length; i++) {
                console.log(i + " : " + this.choice[i]);
            }
          };
          Question.prototype.checkAnswer=function(ans){
            ans = this.choice[ans];
            let sc;
            if (ans == this.correct) {
              console.log("Correct Answer!");
              sc=keepScore(true);
              this.displayScore(sc);
            } else {
              console.log("Wrong Answer. Try again !");
              sc=keepScore(false)
              this.displayScore(sc);
            }
          }
          Question.prototype.displayScore=function(sc){
            console.log("Your Current Score is "+sc)
            console.log("<+++++ Score -----\>\n")
          }
          let q1 = "Is javascript the coolest programming language in the world?";
          let c1 = ["Yes", "No"];
          let q2 = "Inside which HTML element do we put the JavaScript?";
          let c2 = ["<scripting>", "<javascript>", "<js>", "<script>"];
          let q3 = "Which event occurs when the user clicks on an HTML element?";
          let c3 = ["onchange", "onmouseclick", "onmouseover", "onclick"];
          let q4 = "What is the name of this courses's teacher?";
          let c4 = ["John", "Michael", "Jonas"];
          let questionLists = [
            new Question(q1, c1, "Yes"),
            new Question(q2, c2, "<script>"),
            new Question(q3, c3, "onclick"),
            new Question(q4, c4, "Jonas")
          ];
          // without closures
            //let score=0
        //with Closures
        function score(){
            let sc=0;
            return function(correct){
                if (correct){
                    sc++;
                }
                return sc
            }
        }
        let keepScore=score();
        function nextQuestion(){
            let rand=Math.floor(Math.random()*questionLists.length);
            questionLists[rand].display();
            let answer = prompt("Enter the Answer no: ");
            if (answer!=="exit"){
                questionLists[rand].checkAnswer(answer);
                nextQuestion();
            }
        }
        nextQuestion();
        
            
    })();
  </script>
</html>
